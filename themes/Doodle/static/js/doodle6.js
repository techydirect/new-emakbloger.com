window.addComment=function(u){var v,y,p,f=u.document,h={commentReplyClass:"comment-reply-link",cancelReplyId:"cancel-comment-reply-link",commentFormId:"commentform",temporaryFormId:"wp-temp-form-div",parentIdFieldId:"comment_parent",postIdFieldId:"comment_post_ID"},e=u.MutationObserver||u.WebKitMutationObserver||u.MozMutationObserver,a="querySelector"in f&&"addEventListener"in u,n=!!f.documentElement.dataset;function t(){r(),e&&new e(d).observe(f.body,{childList:!0,subtree:!0})}function r(e){if(a&&(v=I(h.cancelReplyId),y=I(h.commentFormId),v)){v.addEventListener("touchstart",l),v.addEventListener("click",l);var t=function(e){if((e.metaKey||e.ctrlKey)&&13===e.keyCode)return y.removeEventListener("keydown",t),e.preventDefault(),y.submit.click(),!1};y&&y.addEventListener("keydown",t);for(var n,r=(i=e,e=h.commentReplyClass,i&&i.childNodes||(i=f),e=f.getElementsByClassName?i.getElementsByClassName(e):i.querySelectorAll("."+e)),d=0,o=r.length;d<o;d++)(n=r[d]).addEventListener("touchstart",m),n.addEventListener("click",m)}var i}function l(e){var t=I(h.temporaryFormId);t&&p&&(I(h.parentIdFieldId).value="0",t.parentNode.replaceChild(p,t),this.style.display="none",e.preventDefault())}function m(e){var t=o(this,"belowelement"),n=o(this,"commentid"),r=o(this,"respondelement"),d=o(this,"postid");t&&n&&r&&d&&!1===u.addComment.moveForm(t,n,r,d)&&e.preventDefault()}function d(e){for(var t=e.length;t--;)if(e[t].addedNodes.length)return void r()}function o(e,t){return n?e.dataset[t]:e.getAttribute("data-"+t)}function I(e){return f.getElementById(e)}return a&&"loading"!==f.readyState?t():a&&u.addEventListener("DOMContentLoaded",t,!1),{init:r,moveForm:function(e,t,n,r){var d=I(e);p=I(n);var o,i,a,l,m=I(h.parentIdFieldId),s=I(h.postIdFieldId);if(d&&p&&m){l=p,(n=I(e=h.temporaryFormId))||((n=f.createElement("div")).id=e,n.style.display="none",l.parentNode.insertBefore(n,l)),r&&s&&(s.value=r),m.value=t,v.style.display="",d.parentNode.insertBefore(p,d.nextSibling),v.onclick=function(){return!1};try{for(var c=0;c<y.elements.length;c++)if(o=y.elements[c],i=!1,"getComputedStyle"in u?a=u.getComputedStyle(o):f.documentElement.currentStyle&&(a=o.currentStyle),(o.offsetWidth<=0&&o.offsetHeight<=0||"hidden"===a.visibility)&&(i=!0),"hidden"!==o.type&&!o.disabled&&!i){o.focus();break}}catch(e){}return!1}}}}(window);